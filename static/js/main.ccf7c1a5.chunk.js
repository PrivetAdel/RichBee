(this.webpackJsonprichbee=this.webpackJsonprichbee||[]).push([[0],{44:function(e,c,t){},45:function(e,c,t){"use strict";t.r(c);var a=t(0),s=t.n(a),i=t(15),n=t.n(i),r=t(6),l=t(12),o=t(28),j=t(16),b=t(29),m=t(4),d="GET_MOVIES_ID",h="GET_MOVIE",u="SET_SIMILAR_MOVIE",O="SET_TRAILER",_="DELETE_TRAILER",p={method:"GET",redirect:"follow"},v=function(e){return function(c){fetch("".concat("https://imdb-api.com/en/API/SearchMovie/k_8zvk1y4n/").concat(e),p).then((function(e){return e.json()})).then((function(e){return e.results.map((function(e){var c=[];return c.push(e.id),c}))})).then((function(e){return c(x(e.flat()))})).catch((function(e){return console.error("Error",e)}))}},x=function(e){return{type:d,payload:e}},f=function(e){return function(c){fetch("".concat("https://imdb-api.com/en/API/Title/k_8zvk1y4n/").concat(e).concat("/Ratings"),p).then((function(e){return e.json()})).then((function(e){return c(N(e))})).catch((function(e){return console.erroe("Error",e)}))}},N=function(e){return{type:h,payload:e}},k=function(e){return{type:O,payload:e}},g={moviesId:[],movies:{},trailer:""},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,c=arguments.length>1?arguments[1]:void 0;switch(c.type){case d:return Object(m.a)(Object(m.a)({},e),{},{moviesId:c.payload});case u:var t=[].concat(Object(b.a)(e.moviesId),[c.payload]);return Object(m.a)(Object(m.a)({},e),{},{moviesId:t});case h:var a=Object(m.a)(Object(m.a)({},e.movies),{},Object(j.a)({},c.payload.id,c.payload));return Object(m.a)(Object(m.a)({},e),{},{movies:a});case O:return Object(m.a)(Object(m.a)({},e),{},{trailer:c.payload});case _:return Object(m.a)(Object(m.a)({},e),{},{trailer:""});default:return e}},E=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.c,w=Object(l.d)(y,E(Object(l.a)(o.a))),I=t(10),S=t(3),T=t(1),R=function(e){var c,t=e.id,s=Object(r.b)(),i=Object(r.c)((function(e){return e.movies[t]}));return Object(a.useEffect)((function(){s(f(t))}),[]),Object(T.jsx)("div",{className:"movie",children:i?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(I.b,{className:"movie__poster-block",to:"/movies/".concat(t),children:Object(T.jsx)("img",{className:"movie__poster",alt:"movie poster",src:i.image})}),Object(T.jsxs)("div",{className:"movie__info-block",children:[Object(T.jsxs)("div",{className:"movie__block--title",children:[Object(T.jsx)(I.b,{className:"movie__title",to:"/movies/".concat(t),children:i.title}),Object(T.jsx)("span",{className:"movie__rating-bg",children:Object(T.jsxs)("p",{className:"movie__rating",children:["IMDb ",i.ratings.imDb]})})]}),Object(T.jsxs)("div",{className:"movie__block--info",children:[Object(T.jsx)("p",{className:"movie__type",children:i.type}),Object(T.jsx)("p",{className:"movie__genre",children:(c=i.genres,c.split(", ").slice(0,3).join(", "))}),Object(T.jsx)("p",{className:"movie__year",children:i.year})]}),Object(T.jsx)("div",{className:"movie__block--awards",children:Object(T.jsx)("p",{className:"movie__awards",children:i.awards})})]})]}):""})},D=t(18),M=t(19),C=t.n(M),A=function(e){var c=e.handleSendRequest,t=e.lightTheme,a=void 0!==t&&t,i=e.darkTheme,n=void 0!==i&&i,r=s.a.useState(""),l=Object(D.a)(r,2),o=l[0],j=l[1];return Object(T.jsxs)("form",{className:C()({"dark-search":n,"light-search":a}),children:[Object(T.jsx)("input",{className:C()({"dark-search__input":n,"light-search__input":a}),type:"text",placeholder:"Type here smth...",onChange:function(e){j(e.target.value)},value:o}),Object(T.jsx)("input",{className:C()({"dark-search__button":n,"light-search__button":a}),type:"submit",onClick:function(e){e.preventDefault(),c(o),j("")},value:"Search"})]})},P=function(){var e=Object(r.b)(),c=Object(r.c)((function(e){return e.moviesId}));return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("div",{className:"background-pic"}),Object(T.jsxs)("div",{className:"main-page",children:[Object(T.jsx)("h1",{children:"Unlimited\xa0movies, TV\xa0shows, and\xa0more."}),Object(T.jsx)("h3",{children:"Watch anywhere. Cancel\xa0anytime."}),Object(T.jsx)(A,{lightTheme:!0,handleSendRequest:function(c){e(v(c))}}),c.length?c.map((function(e){return Object(T.jsx)(R,{id:e},e)})):""]})]})},L=function(e,c){return e.length>c?e.slice(0,c-3)+"...":e},V=function(e){var c=e.id,t=e.title,a=e.type,s=e.genres,i=e.image,n=e.year,l=e.plot,o=e.imDbRating,j=Object(r.b)();return Object(T.jsxs)("div",{className:"similar",children:[Object(T.jsx)("img",{className:"similar__poster",alt:"similar movie poster",src:i}),Object(T.jsx)("div",{className:"similar__overlay",children:Object(T.jsxs)("div",{className:"similar__info-block",children:[Object(T.jsx)(I.b,{className:"similar__title",onClick:function(){j(f(c))},to:"/movies/".concat(c),children:L(t,33)}),Object(T.jsx)("p",{className:"similar__genre",children:s}),Object(T.jsxs)("p",{className:"similar__type",children:[a," ",n]}),Object(T.jsx)("p",{className:"similar__text",children:L(l,150)}),Object(T.jsx)("span",{className:"similar__rating-bg",children:Object(T.jsxs)("p",{className:"similar__rating",children:["IMDb ",o]})})]})})]})},F=function(e){var c=e.closePopup,t=e.trailer;return Object(T.jsx)("div",{className:"trailer-overlay",onClick:c,children:Object(T.jsx)("div",{className:"trailer-container",children:Object(T.jsx)("iframe",{src:"https://www.youtube.com/embed/".concat(t.videoId),frameBorder:"0",allowFullScreen:!0,className:"trailer",title:t.title})})})},q=function(){var e=Object(S.g)().id,c=Object(r.b)(),t=s.a.useState(!1),i=Object(D.a)(t,2),n=i[0],l=i[1],o=Object(r.c)((function(c){return c.movies[e]})),j=Object(r.c)((function(e){return e.trailer})),b=function(){l((function(e){return!e}))};return Object(a.useEffect)((function(){return c(function(e){return function(c){fetch("".concat("https://imdb-api.com/en/API/YouTubeTrailer/k_8zvk1y4n/").concat(e),p).then((function(e){return e.json()})).then((function(e){return c(k(e))})).catch((function(e){return console.erroe("Error",e)}))}}(e)),function(){return c({type:_})}}),[e]),Object(T.jsxs)("div",{className:"movie-page",children:[Object(T.jsxs)("header",{className:"movie-page__header",children:[Object(T.jsx)(I.b,{className:"movie-page__header-link",to:"/main",children:"Richbee Shows"}),Object(T.jsx)(A,{darkTheme:!0,handleSendRequest:function(e){c(v(e))}})]}),o?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("section",{className:"main-block",children:[n?Object(T.jsx)(F,{closePopup:b,trailer:j}):"",Object(T.jsx)("div",{className:"main-block__poster-block",children:Object(T.jsx)("img",{className:"main-block__poster",alt:"film poster",src:o.image})}),Object(T.jsx)("div",{className:"background-gradient"}),Object(T.jsxs)("div",{className:"main-block__wrapper",children:[Object(T.jsx)("h1",{className:"main-block__title",children:o.title}),Object(T.jsxs)("div",{className:"main-block__inner",children:[Object(T.jsx)("span",{className:"main-block__rating-bg",children:Object(T.jsxs)("p",{className:"main-block__rating",children:["IMDb ",o.ratings.imDb]})}),Object(T.jsx)("p",{className:"main-block__genre",children:o.genres}),Object(T.jsx)("p",{className:"main-block__type",children:o.type}),Object(T.jsx)("p",{className:"main-block__year",children:o.year})]})]}),Object(T.jsxs)("div",{className:"main-block__wrap",children:[Object(T.jsx)("button",{className:"main-block__video-btn",onClick:b,disabled:!j.videoUrl,children:"Watch"}),Object(T.jsx)("p",{className:"main-block__awards",children:o.awards})]})]}),Object(T.jsxs)("section",{className:"description-block",children:[Object(T.jsxs)("div",{className:"description-block__wrapper",children:[Object(T.jsxs)("h2",{className:"description-block__title",children:["Watch ",o.title," on Richbee Shows"]}),Object(T.jsx)("p",{className:"description-block__text",children:o.plot})]}),Object(T.jsxs)("div",{className:"similar-block",children:[Object(T.jsx)("h3",{className:"similar-block__title",children:"You may also like"}),Object(T.jsx)("div",{className:"similar-block__wrapper",children:o.similars?o.similars.map((function(e){return Object(a.createElement)(V,Object(m.a)(Object(m.a)({},e),{},{key:e.id}))})):""})]})]})]}):"",Object(T.jsx)("footer",{className:"movie-page__footer",children:Object(T.jsx)("p",{children:"Richbee Shows"})})]})},z=function(){return Object(T.jsxs)(S.d,{children:[Object(T.jsx)(S.b,{path:"/main",component:P}),Object(T.jsx)(S.b,{path:"/movies/:id",component:q}),Object(T.jsx)(S.b,{exact:!0,path:"/",children:Object(T.jsx)(S.a,{to:"/main"})})]})};t(44);n.a.render(Object(T.jsx)(s.a.StrictMode,{children:Object(T.jsx)(r.a,{store:w,children:Object(T.jsx)(I.a,{children:Object(T.jsx)(z,{})})})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.ccf7c1a5.chunk.js.map